<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
            integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
            integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
            crossorigin="anonymous"></script>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font: 16px Arial;
        }

        .autocomplete {
            /*the container must be positioned relative:*/
            position: relative;
            display: inline-block;
        }

        input {
            border: 1px solid transparent;
            background-color: #f1f1f1;
            padding: 10px;
            font-size: 16px;
        }

        input[type=text] {
            background-color: #f1f1f1;
            width: 100%;
        }

        input[type=submit] {
            background-color: DodgerBlue;
            color: #fff;
        }

        .autocomplete-items {
            position: absolute;
            border: 1px solid #d4d4d4;
            border-bottom: none;
            border-top: none;
            z-index: 99;
            /*position the autocomplete items to be the same width as the container:*/
            top: 100%;
            left: 0;
            right: 0;
        }

        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
            background-color: #fff;
            border-bottom: 1px solid #d4d4d4;
        }

        .autocomplete-items div:hover {
            /*when hovering an item:*/
            background-color: #e9e9e9;
        }

        .autocomplete-active {
            /*when navigating through the items using the arrow keys:*/
            background-color: DodgerBlue !important;
            color: #ffffff;
        }
    </style>
</head>
<body>

<form autocomplete="off" action="/api/search/eve-org">
    <div class="autocomplete" style="width:300px;">
        <input id="phrase" type="text" name="phrase" placeholder="Country">
    </div>
    <input type="submit">
</form>

</body>
</html>
<script type="text/javascript" src="autocomplete.js"></script>
<script type="text/javascript" src="eventJsonToArrayOfNames.js"></script>
<script>
    var json = [{
        "id": 71836,
        "place": {
            "id": 1,
            "name": "Miejski Teatr MINIATURA"
        },
        "endDate": "2020-04-21T23:59:00+0200",
        "name": "Bliżej historii LIVE - Anna Malinowska",
        "urls": {
            "fb": "https://www.facebook.com/events/593913194545246/"
        },
        "attachments": [
            {
                "fileName": "events/event_5e8ef4ef603ec.jpeg"
            }
        ],
        "descLong": "W naszym cyklu \"Bliżej historii LIVE\" zapraszamy Państwa na spotkanie z Anną Malinowską autorką książki \"Komendant. Zycie Salomona Morela\", wydanej w marcu br przez Wydawnictwo Agora.\r\nRozmowę poprowadzi Dagny Kurdwanowska. \r\n21 kwietnia godz. 17.00.\r\n\r\n        Czy młody Szlomo ukrywający się w oborze albo w sosnowym lesie spodziewał się, że zamieszka tuż obok obozu ogrodzonego drutem pod napięciem? I że będzie tam żyć bez strachu, za to inni będą się bać jego?\r\n        Salomon Morel: Żyd i Polak, ofiara i oprawca... W czasie wojny w bestialski sposób zamordowano jego najbliższą rodzinę. Po wojnie on sam został słynącym z okrucieństwa komendantem obozu pracy Zgoda w Świętochłowicach, w którym po upadku III Rzeszy przetrzymywano w strasznych warunkach, głodzono, gwałcono i torturowano Ślązaków. Potem był funkcjonariuszem w więzieniu dla młodocianych w Jaworznie, gdzie próbowano ich nawracać na jedynie słuszne poglądy polityczne. Jednocześnie Szlomo, pieszczotliwie nazywany przez kolegów z partyzantki „wariatem”, był kochanym ojcem rodziny i lubianym, skorym do żartów kompanem zabaw. Więc kim tak naprawdę był komendant Morel? Ofiarą, katem, mścicielem, nadgorliwym funkcjonariuszem systemu.\r\n            Bezkompromisowa wojenna reporterska opowieść autorki bestsellerowej „Brunatnej kołysanki” o wciąż za mało znanej tragicznej historii mieszkańców Górnego Śląska. A także o tym, czy zemsta pozwala wyrównać rachunki krzywd i do czego prowadzi, jeśli jej łańcuch nie zostanie przerwany.\r\n Bartosz Wieliński\r\n\r\nAnna Malinowska ukończyła politologię ze specjalnością dziennikarską na Uniwersytecie Śląskim w Katowicach. Pracowała m.in. w Trybunie Śląskiej a od 2005 r. jest dziennikarką katowickiego oddziału \"Gazety Wyborczej\". W 2017 r. ukazała się jej \"Brunatna kołysanka\" opowiadająca o losach polskich dzieci uprowadzonych w czasie wojny przez Lebensborn. Książka stała się bestsellerem.",
        "categoryId": 61,
        "startDate": "2020-04-21T17:00:00+0200",
        "organizer": {
            "id": 102,
            "designation": "Muzeum Sopotu"
        },
        "active": 1,
        "descShort": "Bliżej historii LIVE - Anna Malinowska",
        "tickets": {
            "type": "free"
        }
    },
        {
            "id": 71478,
            "place": {
                "id": 236,
                "subname": "Gdański Teatr Szekspirowski",
                "name": "Gdański Teatr Szekspirowski"
            },
            "endDate": "2020-04-23T21:00:00+0200",
            "name": "456. Urodziny Szekspira: KUPIEC WENECKI | Nowy Teatr w Słupsku",
            "urls": {
                "www": "https://teatrszekspirowski.pl/wydarzenia/urodziny-szekspira-kupiec-wenecki-nowy-teatr-w-slupsku/"
            },
            "attachments": [],
            "descLong": "<h3>W tym roku, z okazji tradycyjnie wyprawianych w dniu 23 kwietnia Urodzin Williama Szekspira, przygotowaliśmy dla Państwa smaczny teatralny kąsek. Zapraszamy na spektakl, który zdobył nagrodę Złotego Yoricka podczas ubiegłorocznego, 23. Festiwalu Szekspirowskiego.</h3><h3>Dlatego będzie to gratka szczególnie dla tych, którzy, podczastrwającego latem festiwalu, nie mogli zobaczyć spektaklu. Natomiast tych, którzy byli, zapraszamy raz jeszcze, ponieważ tym razem pokażemy tę niecodzienną produkcję na naszej własnej scenie. W związku z możliwościami adaptacyjnymi sceny Teatru Szekspirowskiego produkcja zyska nową aranżację, co z pewnością przyczyni się do innowacyjnej formuły spektaklu.</h3><p>„Kupiec wenecki” Szymona Kaczmarka traktuje tę najbardziej dwuznaczną, niewygodną i niekomfortową ze sztuk Szekspira, jakby była napisana dziś – w świecie powracających potworów antysemityzmu, wściekłych reakcji na wyzwolenie kobiet, wszystkich tych zatruwających nas stereotypów, które trwają od zawsze lub właśnie się budzą. Nic u Kaczmarka nie jest tylko dobreani tylko złe. Nie ma też jednorodnych bohaterów. Ludzie reagują złem na zło, niesprawiedliwością na niesprawiedliwość. Wykluczeni i ukryci, potrafią zachować się niemoralnie, podejrzanie, nieuczciwie. I wszyscy przegrywają, zostają oszukani. Kaczmarek przenosi nas na portowe nadbrzeże, gdzietrudno z gorąca oddychać, jak śpiewała Kora…<br/>Łukasz Drewniak, Selekcjoner Konkursu o Złotego Yoricka</p><h3>TWÓRCY:</h3><p>Reżyseria: Szymon Kaczmarek<br/>Scenografia: Kaja Migdałek<br/>Opracowanie muzyczne: Żelisław Żelisławski</p><h3>OBSADA:</h3><p>Igor Chmielnik, Monika Janik, Adam Jędrosz, Anna Kończal (gościnnie), Krzysztof Kluzik, WojciechMarcinkowski, Kacper Sasin (gościnnie) oraz Sławomir Głazek (nagranie video)</p>",
            "categoryId": 19,
            "startDate": "2020-04-23T19:00:00+0200",
            "organizer": {
                "id": 56,
                "designation": "Gdański Teatr Szekspirowski"
            },
            "active": 1,
            "descShort": "W tym roku, z okazji tradycyjnie wyprawianych w dniu 23 kwietnia Urodzin Williama Szekspira, przygotowaliśmy dla Państwa smaczny teatralny kąsek. Zapraszamy na spektakl, który zdobył nagrodę Złotego Yoricka podczas ubiegłorocznego, 23. Festiw...",
            "tickets": {
                "type": "unknown"
            }
        }]
    var countries = ["Afghanistan", "Albania", "Algeria", "Andorra", "Angola",
        "Anguilla", "Antigua &amp; Barbuda", "Argentina", "Armenia", "Aruba", "Australia",
        "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus",
        "Belgium", "Belize", "Benin", "Bermuda", "Bhutan", "Bolivia", "Bosnia &amp; Herzegovina",
        "Botswana", "Brazil", "British Virgin Islands", "Brunei", "Bulgaria", "Burkina Faso", "Burundi",
        "Cambodia", "Cameroon", "Canada", "Cape Verde", "Cayman Islands", "Central Arfrican Republic", "Chad",
        "Chile", "China", "Colombia", "Congo", "Cook Islands", "Costa Rica", "Cote D Ivoire", "Croatia", "Cuba", "Curacao",
        "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador",
        "Equatorial Guinea", "Eritrea", "Estonia", "Ethiopia", "Falkland Islands", "Faroe Islands", "Fiji", "Finland", "France",
        "French Polynesia", "French West Indies", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Gibraltar", "Greece",
        "Greenland", "Grenada", "Guam", "Guatemala", "Guernsey", "Guinea", "Guinea Bissau", "Guyana", "Haiti", "Honduras",
        "Hong Kong", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Isle of Man", "Israel", "Italy",
        "Jamaica", "Japan", "Jersey", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos",
        "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Macau", "Macedonia",
        "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico",
        "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Montserrat", "Morocco", "Mozambique", "Myanmar", "Namibia",
        "Nauro", "Nepal", "Netherlands", "Netherlands Antilles", "New Caledonia", "New Zealand", "Nicaragua", "Niger", "Nigeria",
        "North Korea", "Norway", "Oman", "Pakistan", "Palau", "Palestine", "Panama", "Papua New Guinea", "Paraguay", "Peru",
        "Philippines", "Poland", "Portugal", "Puerto Rico", "Qatar", "Reunion", "Romania", "Russia", "Rwanda",
        "Saint Pierre &amp; Miquelon", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal",
        "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa",
        "South Korea", "South Sudan", "Spain", "Sri Lanka", "St Kitts &amp; Nevis", "St Lucia", "St Vincent", "Sudan", "Suriname", "Swaziland", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Timor L'Este", "Togo", "Tonga", "Trinidad &amp; Tobago", "Tunisia", "Turkey", "Turkmenistan", "Turks &amp; Caicos", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom",
        "United States of America", "Uruguay", "Uzbekistan", "Vanuatu", "Vatican City", "Venezuela", "Vietnam", "Virgin Islands (US)", "Yemen", "Zambia", "Zimbabwe"];

    document.getElementById("phrase").addEventListener("keyup", myFunction);

    function myFunction() {
        if (document.getElementById("phrase").textLength > 2) {
            console.log(eventJsonToArrayOfNames($(document).ready(function () {
                var str1 = "http://localhost:8080/api/search/eve/";
                var str2 =document.getElementById("phrase").value;
                console.log(str2);
                var res = str1.concat(str2);
                $.ajax({
                    url: res,
                    type: "GET",
                    success: function (result) {
                        console.log(result);
                    },
                    error: function (error) {
                        console.log(error);
                    }
                })
            })));
            autocomplete(document.getElementById("phrase"), countries);
        }
    }

</script>
